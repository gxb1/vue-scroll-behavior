/**
 * vue-scroll-behavior v0.3.0
 * (c) 2020 jeneser <jeneserwang@gmail.com>
 * @license MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.vueScrollBehavior=t()}(this,function(){"use strict";function e(e){"string"==typeof e.el&&(u._el=e.el),void 0!==e.maxLength&&"number"==typeof e.maxLength&&(u._maxLength=e.maxLength),void 0!==e.ignore&&Array.isArray(e.ignore)&&(u._ignore=e.ignore),"number"==typeof e.delay&&(u._delay=e.delay),"boolean"==typeof e.leaveIgnored&&(u._leaveIgnored=e.leaveIgnored)}function t(){var e=document.querySelector(u._el);return{x:e?e.scrollLeft:window.pageXOffset,y:e?e.scrollTop:window.pageYOffset}}function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0},n=function(){e.nextTick(function(){var e=document.querySelector(u._el);e?(e.scrollLeft=t.x,e.scrollTop=t.y):window.scrollTo(t.x,t.y)})};u._delay>0?setTimeout(n,u._delay):n()}function o(e){e.splice(0,parseInt(e.length/2))}function r(e){return u._ignore.some(function(t){return e.fullPath.match(t)})}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=(function(){function e(e){this.value=e}function t(t){function n(e,t){return new Promise(function(n,r){var l={key:e,arg:t,resolve:n,reject:r,next:null};u?u=u.next=l:(i=u=l,o(e,t))})}function o(n,i){try{var u=t[n](i),l=u.value;l instanceof e?Promise.resolve(l.value).then(function(e){o("next",e)},function(e){o("throw",e)}):r(u.done?"return":"normal",u.value)}catch(e){r("throw",e)}}function r(e,t){switch(e){case"return":i.resolve({value:t,done:!0});break;case"throw":i.reject(t);break;default:i.resolve({value:t,done:!1})}i=i.next,i?o(i.key,i.arg):u=null}var i,u;this._invoke=n,"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),{_el:null,_maxLength:50,_ignore:[],_delay:0,_leaveIgnored:!1});return u.install=function(l,a){e(a),l.vsbHistoryList=[],l.vueScrollBehavior=function(e){var a=this;"object"===(void 0===e?"undefined":i(e))&&"function"==typeof e.beforeEach?(e.beforeEach(function(e,n,i){if(r(n))i();else{var l=a.vsbHistoryList,f=t(),c=l.findIndex(function(e){return e.path===n.fullPath});l.length>=u._maxLength&&o(l),-1!==c?l[c].position=f:l.push({path:n.fullPath,position:f}),i()}}),e.afterEach(function(e){if(r(e))u._leaveIgnored||n(l);else{var t=a.vsbHistoryList.find(function(t){return t.path===e.fullPath});void 0!==t?n(l,t.position):n(l)}})):console.warn("Vue-scroll-behavior dependent on vue-router! Please create the router instance.")},l.vueScrollBehavior(a.router)},u});
